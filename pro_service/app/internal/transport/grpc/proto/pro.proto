syntax = "proto3";

package proto;
option go_package = "./;proto";

// Flange Service ----------------------------------------------------------------
message GetAllFlangeRequest {}

message CreateFlangeRequest {
    string title = 1;
    string short = 2;
}

message UpdateFlangeRequest {
    string id = 1;
    string title = 2;
    string short = 3;
}

message DeleteFlangeRequest {
    string id = 1;
}

message Flange {
    string id = 1;
    string title = 2;
    string short = 3;
}
message FlangeResponse {
    repeated Flange flanges = 1;
}

// Stand Service ----------------------------------------------------------------
message GetStandsRequest{}

message CreateStandRequest {
    string title = 1;
}

message UpdateStandRequest {
    string id = 1;
    string title = 2;
}

message DeleteStandRequest {
    string id = 1;
}

message Stand {
    string id = 1;
    string title = 2;
}
message StandResponse {
    repeated Stand stands = 1;
}

// St_Fl Service ----------------------------------------------------------------
message GetStFlRequest {}

message CreateStFlRequest {
    string standId = 1;
    string flangeId = 2;
}

message UpdateStFlRequest {
    string id = 1;
    string standId = 2;
    string flangeId = 3;
}

message DeleteStFlRequest {
    string id = 1;
}

message StFl {
    string id = 1;
    string standId = 2;
    string stand = 3;
    string flangeId = 4;
    string flange = 5;
    string short = 6;
}
message StFlResponse {
    repeated StFl stfl = 1;
}

// Type Flange Service ----------------------------------------------------------------
message GetTypeFlRequest {}

message CreateTypeFlRequest {
    string title = 1;
    string descr = 2;
    string short = 3;
    bool basis = 4;
}

message UpdateTypeFlRequest {
    string id = 1;
    string title = 2;
    string descr = 3;
    string short = 4;
    bool basis = 5;
}

message DeleteTypeFlRequest {
    string id = 1;
}

message TypeFl {
    string id = 1;
    string title = 2;
    string descr = 3;
    string short = 4;
}
message TypeFlResponse {
    repeated TypeFl typeFl = 1;
}


// Additional Service ----------------------------------------------------------------
message GetAllAddRequest {}

message AddMaterials {
    string short = 1;
    string title = 2;
}

message AddTemperature {
    string id = 1;
    string title = 2;
}

message AddMod {
    string id = 1;
    string short = 2;
    string title = 3;
    string description = 4;
}

message AddMoun {
    string id = 1;
    string title = 2;
}

message AddGrap {
    string short = 1;
    string title = 2;
    string description = 3;
}

message AddFiller {
    string short = 1;
    string title = 2;
    string description = 3;
}

message AddCoating {
    string id = 1;
    string short = 2;
    string title = 3;
    string description = 4;
}

message AddConstruction {
    string short = 1;
    string title = 2;
    string description = 3;
    bool isHaveMaterial = 4;
}

message AddObturator {
    string short = 1;
    string title = 2;
    string description = 3;
    string forDescr = 4;
}

message AddBasis {
    string short = 1;
    string title = 2;
    string description = 3;
}

message AddSealant {
    string short = 1;
    string title = 2;
    string description = 3;
    string forDescr = 4;
}

message CreateAddRequest {
    string materials = 1;
    string mod = 2;
    string temperature = 3;
    string mounting = 4;
    string graphite = 5;
    string fillers = 6;
    string coating = 7;
    string construction = 8;
    string obturator = 9;
    string basis = 10;
    string sealant = 11;
}

message UpdateAddMatRequest {
    string id = 1;
    repeated AddMaterials materials = 2;
    string typeCh = 3;
    string change = 4;
}
message UpdateAddModRequest {
    string id = 1;
    repeated AddMod mod = 2;
    string typeCh = 3;
    string change = 4;
}
message UpdateAddTemRequest {
    string id = 1;
    repeated AddTemperature temperature = 2;
    string typeCh = 3;
    string change = 4;
}
message UpdateAddMounRequest {
    string id = 1;
    repeated AddMoun mounting = 2;
    string typeCh = 3;
    string change = 4;
}
message UpdateAddGrapRequest {
    string id = 1;
    repeated AddGrap graphite = 2;
    string typeCh = 3;
    string change = 4;
}
message UpdateAddFillersRequest {
    string id = 1;
    repeated AddFiller fillers = 2;
    string typeCh = 3;
    string change = 4;
}
message UpdateAddCoatingRequest {
    string id = 1;
    repeated AddCoating coating = 2;
    string typeCh = 3;
    string change = 4;
}
message UpdateAddConstructionRequest {
    string id = 1;
    repeated AddConstruction constr = 2;
    string typeCh = 3;
    string change = 4;
}
message UpdateAddObturatorRequest {
    string id = 1;
    repeated AddObturator obturator = 2;
    string typeCh = 3;
    string change = 4;
}

message UpdateAddBasisRequest {
    string id = 1;
    repeated AddBasis basis = 2;
    string typeCh = 3;
    string change = 4;
}

message UpdateAddSealantRequest {
    string id = 1;
    repeated AddSealant sealant = 2;
    string typeCh = 3;
    string change = 4;
}

message Additional {
    string id = 1;
    repeated AddMaterials materials = 2;
    repeated AddMod mod = 3;
    repeated AddTemperature temperature = 4;
    repeated AddMoun mounting = 5;
    repeated AddGrap graphite = 6;
    repeated AddFiller fillers = 7;
    repeated AddCoating coating = 8;
    repeated AddConstruction construction = 9;
    repeated AddObturator obturator = 10;
    repeated AddBasis basis = 11;
    repeated AddSealant sealant = 12;
}
message AdditionalResponse {
    repeated Additional additionals = 1;
}

message SuccessResponse {
    bool success = 1;
}

// Size Service ----------------------------------------------------------------
message GetSizesRequest {
    string flange = 1;
    string typeFlId = 2;
    string typePr = 3;
    string standId = 4;
}

message CreateSizeRequest {
    string flange = 1;
    string typeFlId = 2;
    string dn = 3;
    string pn = 4;
    string typePr = 5;
    string standId = 6;
    string d4 = 7;
    string d3 = 8;
    string d2 = 9;
    string d1 = 10;
    string h = 11;
    string s2 = 12;
    string s3 = 13;
    int32 number = 14;
}

message UpdateSizeRequest {
    string flange = 1;
    string typeFlId = 2;
    string id = 3;
    string dn = 4;
    string pn = 5;
    string typePr = 6;
    string standId = 7;
    string d4 = 8;
    string d3 = 9;
    string d2 = 10;
    string d1 = 11;
    string h = 12;
    string s2 = 13;
    string s3 = 14;
}

message DeleteSizeRequest {
    string flange = 1;
    string id = 2;
}

message DeleteAllSizeRequest {
    string flange = 1;
    string typePr = 2;
}

message Size {
    string id = 1;
    string dn = 2;
    string pn = 3;
    string d4 = 4;
    string d3 = 5;
    string d2 = 6;
    string d1 = 7;
    string h = 8;
    string s2 = 9;
    string s3 = 10;
    string typePr = 11;
    string typeFlId = 12;
}
message Dn {
    string dn = 1;
}
message SizeResponse {
    repeated Size sizes = 1;
    repeated Dn dn = 2;
}

// SNP Service ----------------------------------------------------------------
message Filler {
    string id = 1;
    repeated Temp temps = 2;
}

message Temp {
    string id = 1;
    repeated string mods = 2;
}

message Materials {
    repeated string values = 1;
    string default = 2;
}

message GetSNPRequest {
    string standId = 1;
    string flangeId = 2;
}

message CreateSNPRequest {
    string standId = 1;
    string flangeId = 2;
    string typeFlId = 3;
    string typePr = 4;
    repeated Filler fillers = 5;
    Materials frame = 6;
    Materials ir = 7;
    Materials or = 8;
    repeated string mounting = 9;
    repeated string graphite = 10;
}

message UpdateSNPRequest {
    string id = 1;
    string standId = 2;
    string flangeId = 3;
    string typeFlId = 4;
    string typePr = 5;
    repeated Filler fillers = 6;
    Materials frame = 7;
    Materials ir = 8;
    Materials or = 9;
    repeated string mounting = 10;
    repeated string graphite = 11;
}

message DeleteSNPRequest {
    string id = 1;
}

message SNP {
    string id = 1;
    string typeFlId = 2;
    string typePr = 3;
    repeated Filler fillers = 4;
    Materials frame = 5;
    Materials ir = 6;
    Materials or = 7;
    repeated string mounting = 8;
    repeated string graphite = 9;
}
message SNPResponse {
    repeated SNP snp = 1;
}

// PUTG Image Service ----------------------------------------------------------------
message PutgImage {
    string id = 1;
    string form = 2;
    string gasket = 3;
    string url = 4;
}

message GetPutgImageRequest {
    string form = 1;
}

message CreatePutgImageRequest {
    string form = 1;
    string gasket = 2;
    string url = 3;
}

message UpdatePutgImageRequest {
    string id = 1;
    string form = 2;
    string gasket = 3;
    string url = 4;
}

message DeletePutgImageRequest {
    string id = 1;
}

message PutgImageResponse {
    repeated PutgImage putgImage = 1;
}

// PUTG Service ----------------------------------------------------------------
message PutgTemp {
    string grap = 1;
    repeated Temp temps = 2;
}

message PutgConstructions {
    string grap = 1;
    repeated ConTemp temperatures = 2;
}

message ConTemp {
    string temp = 1;
    repeated Constr constructions = 2;
}

message Constr {
    string short = 1;
    repeated PutgObt obturators = 2;
}

message PutgObt {
    string short = 1;
    string imageUrl = 2;
}

message PutgMaterials {
    repeated string values = 1;
    string default = 2;
    repeated string obturators = 3;
}

message GetPutgRequest {
    string form = 1;
    string flangeId = 2;
}

message CreatePutgRequest {
    string flangeId = 1;
    string typeFlId = 2;
    string typePr = 3;
    string form = 4;
    repeated PutgConstructions construction = 5;
    repeated PutgTemp temperatures = 6;
    PutgMaterials reinforce = 7;
    PutgMaterials obturator = 8;
    PutgMaterials iLimiter = 9;
    PutgMaterials oLimiter = 10;
    repeated string coating = 11;
    repeated string mounting = 12;
    repeated string graphite = 13;
}

message UpdatePutgRequest {
    string id = 1;
    string typeFlId = 2;
    string typePr = 3;
    string form = 4;
    repeated PutgConstructions construction = 5;
    repeated PutgTemp temperatures = 6;
    PutgMaterials reinforce = 7;
    PutgMaterials obturator = 8;
    PutgMaterials iLimiter = 9;
    PutgMaterials oLimiter = 10;
    repeated string coating = 11;
    repeated string mounting = 12;
    repeated string graphite = 13;
    string flangeId = 14;
}

message DeletePutgRequest {
    string id = 1;
}

message Putg {
    string id = 1;
    string typeFlId = 2;
    string typePr = 3;
    string form = 4;
    repeated PutgConstructions construction = 5;
    repeated PutgTemp temperatures = 6;
    PutgMaterials reinforce = 7;
    PutgMaterials obturator = 8;
    PutgMaterials iLimiter = 9;
    PutgMaterials oLimiter = 10;
    repeated string coating = 11;
    repeated string mounting = 12;
    repeated string graphite = 13;
}
message PutgResponse {
    repeated Putg putg = 1;
}

// commmon ----------------------------------------------------------------
message IdResponse {
    string id = 1;
}

message PingRequest {
    
}
message PingResponse {
    string ping = 1;
}


service ProService {
    // common -----------------------------------------------------------------------
    rpc Ping (PingRequest) returns (PingResponse);

    // Flange Service ----------------------------------------------------------------
    rpc GetAllFlanges (GetAllFlangeRequest) returns (FlangeResponse);
    rpc CreateFlange (CreateFlangeRequest) returns (IdResponse);
    rpc UpdateFlange (UpdateFlangeRequest) returns (IdResponse);
    rpc DeleteFlange (DeleteFlangeRequest) returns (IdResponse);

    // Stand Service ----------------------------------------------------------------
    rpc GetAllStands (GetStandsRequest) returns (StandResponse);
    rpc CreateStand (CreateStandRequest) returns (IdResponse);
    rpc UpdateStand (UpdateStandRequest) returns (IdResponse);
    rpc DeleteStand (DeleteStandRequest) returns (IdResponse);

    // St_Fl Service ----------------------------------------------------------------
    rpc GetStFl (GetStFlRequest) returns (StFlResponse);
    rpc CreateStFl (CreateStFlRequest) returns (IdResponse);
    rpc UpdateStFl (UpdateStFlRequest) returns (IdResponse);
    rpc DeleteStFl (DeleteStFlRequest) returns (IdResponse);

    // Flange Type Service ----------------------------------------------------------------
    rpc GetTypeFl (GetTypeFlRequest) returns (TypeFlResponse);
    rpc GetAllTypeFl (GetTypeFlRequest) returns (TypeFlResponse);
    rpc CreateTypeFl (CreateTypeFlRequest) returns (IdResponse);
    rpc UpdateTypeFl (UpdateTypeFlRequest) returns (IdResponse);
    rpc DeleteTypeFl (DeleteTypeFlRequest) returns (IdResponse);

    // Additional Service ----------------------------------------------------------------
    rpc GetAllAdditional (GetAllAddRequest) returns (AdditionalResponse);
    rpc CreateAdditional (CreateAddRequest) returns (SuccessResponse);
    rpc UpdateMat (UpdateAddMatRequest) returns (SuccessResponse);
    rpc UpdateMod (UpdateAddModRequest) returns (SuccessResponse);
    rpc UpdateTemp (UpdateAddTemRequest) returns (SuccessResponse);
    rpc UpdateMoun (UpdateAddMounRequest) returns (SuccessResponse);
    rpc UpdateGrap (UpdateAddGrapRequest) returns (SuccessResponse);
    rpc UpdateFillers (UpdateAddFillersRequest) returns (SuccessResponse);
    rpc UpdateCoating (UpdateAddCoatingRequest) returns (SuccessResponse);
    rpc UpdateConstruction (UpdateAddConstructionRequest) returns (SuccessResponse);
    rpc UpdateObturator (UpdateAddObturatorRequest) returns (SuccessResponse);
    rpc UpdateBasis (UpdateAddBasisRequest) returns (SuccessResponse);
    rpc UpdateSealant (UpdateAddSealantRequest) returns (SuccessResponse);

    //Size Service ----------------------------------------------------------------
    rpc GetSizes (GetSizesRequest) returns (SizeResponse);
    rpc GetAllSizes (GetSizesRequest) returns (SizeResponse);
    rpc CreateSize (CreateSizeRequest) returns (IdResponse);
    rpc UpdateSize (UpdateSizeRequest) returns (IdResponse);
    rpc DeleteSize (DeleteSizeRequest) returns (IdResponse);
    rpc DeleteAllSize (DeleteAllSizeRequest) returns (IdResponse);

    // SNP Service ----------------------------------------------------------------
    rpc GetSNP (GetSNPRequest) returns (SNPResponse);
    rpc CreateSNP (CreateSNPRequest) returns (IdResponse);
    rpc UpdateSNP (UpdateSNPRequest) returns (IdResponse);
    rpc DeleteSNP (DeleteSNPRequest) returns (IdResponse);

    // PUTG Image Service ----------------------------------------------------------------
    rpc GetPutgImage (GetPutgImageRequest) returns (PutgImageResponse);
    rpc CreatePutgImage (CreatePutgImageRequest) returns (IdResponse);
    rpc UpdatePutgImage (UpdatePutgImageRequest) returns (IdResponse);
    rpc DeletePutgImage (DeletePutgImageRequest) returns (IdResponse);

    // PUTG Service ----------------------------------------------------------------
    rpc GetPutg (GetPutgRequest) returns (PutgResponse);
    rpc CreatePutg (CreatePutgRequest) returns (IdResponse);
    rpc UpdatePutg (UpdatePutgRequest) returns (IdResponse);
    rpc DeletePutg (DeletePutgRequest) returns (IdResponse);
}